import { j as i } from "./annotorious-react.es11.js";
import { Children as g, useContext as u, useEffect as n, cloneElement as x } from "react";
import { createImageAnnotator as A } from "@annotorious/annotorious";
import { AnnotoriousContext as C } from "./annotorious-react.es2.js";
const N = (e) => {
  const { children: a, tool: o, ...l } = e, r = g.only(a), { anno: t, setAnno: c } = u(C), s = (m) => {
    if (!t) {
      const f = m.target, d = A(f, l);
      c(d);
    }
  };
  return n(() => {
    !t || !e.containerClassName || (t.element.className = e.containerClassName);
  }, [e.containerClassName, t]), n(() => {
    t && t.setDrawingEnabled(e.drawingEnabled);
  }, [e.drawingEnabled]), n(() => {
    t && t.setFilter(e.filter);
  }, [e.filter]), n(() => {
    t && t.setStyle(e.style);
  }, [e.style]), n(() => {
    o && t && t.setDrawingTool(e.tool);
  }, [o, t]), n(() => {
    t && t.setUserSelectAction(e.userSelectAction);
  }, [e.userSelectAction]), /* @__PURE__ */ i.jsx(i.Fragment, { children: x(r, { onLoad: s }) });
};
export {
  N as ImageAnnotator
};
//# sourceMappingURL=annotorious-react.es5.js.map
