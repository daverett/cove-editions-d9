import { j as f } from "./annotorious-react.es11.js";
import { createContext as u, useState as m, useContext as a, useEffect as n } from "react";
import { createOSDAnnotator as S } from "@annotorious/openseadragon";
import { AnnotoriousContext as w } from "./annotorious-react.es2.js";
const s = u({ viewer: null, setViewer: null }), y = (t) => {
  const { children: x, tool: r, ...c } = t, [o, d] = m(), { anno: e, setAnno: i } = a(w);
  return n(() => {
    if (o != null && o.element) {
      const l = S(o, c);
      return i(l), () => {
        l.destroy(), i(void 0);
      };
    }
  }, [o]), n(() => {
    e && e.setDrawingEnabled(t.drawingEnabled);
  }, [e, t.drawingEnabled]), n(() => {
    e && e.setFilter(t.filter);
  }, [e, t.filter]), n(() => {
    e && e.setStyle(t.style);
  }, [e, t.style]), n(() => {
    e && e.setDrawingTool(r);
  }, [e, r]), n(() => {
    e && e.setModalSelect(t.modalSelect);
  }, [e, t.modalSelect]), n(() => {
    e && e.setUser(t.user);
  }, [e, t.user]), n(() => {
    e && e.setUserSelectAction(t.userSelectAction);
  }, [e, t.userSelectAction]), /* @__PURE__ */ f.jsx(s.Provider, { value: { viewer: o, setViewer: d }, children: t.children });
}, C = () => {
  const { viewer: t } = a(s);
  return t;
};
export {
  y as OpenSeadragonAnnotator,
  s as OpenSeadragonAnnotatorContext,
  C as useViewer
};
//# sourceMappingURL=annotorious-react.es8.js.map
