{"version":3,"file":"react-text-annotator.es20.js","sources":["../../../node_modules/CETEIcean/src/defaultBehaviors.js"],"sourcesContent":["export default {\n  \"namespaces\": {\n    \"tei\": \"http://www.tei-c.org/ns/1.0\",\n    \"teieg\": \"http://www.tei-c.org/ns/Examples\",\n    \"rng\": \"http://relaxng.org/ns/structure/1.0\"  \n  },\n  \"tei\": {\n    \"eg\": [\"<pre>\",\"</pre>\"],\n    // inserts a link inside <ptr> using the @target; the link in the\n    // @href is piped through the rw (rewrite) function before insertion\n    \"ptr\": [\"<a href=\\\"$rw@target\\\">$@target</a>\"],\n    // wraps the content of the <ref> in an HTML link with the @target in \n    // the @href. If there are multiple @targets, only the first is used.\n    \"ref\": [\n      [\"[target]\", [\"<a href=\\\"$rw@target\\\">\",\"</a>\"]]\n    ],\n    // creates an img tag with the @url as the src attribute\n    \"graphic\": function(elt) {\n      let content = new Image();\n      content.src = this.rw(elt.getAttribute(\"url\"));\n      if (elt.hasAttribute(\"width\")) {\n        content.setAttribute(\"width\",elt.getAttribute(\"width\"));\n      }\n      if (elt.hasAttribute(\"height\")) {\n        content.setAttribute(\"height\",elt.getAttribute(\"height\"));\n      }\n      return content;\n    },\n    \"list\": [\n      // will only run on a list where @type=\"gloss\"\n      [\"[type=gloss]\", function(elt) {\n        const doc = elt.ownerDocument;\n        let dl = doc.createElement(\"dl\");\n        for (let child of Array.from(elt.children)) {\n          // nodeType 1 is Node.ELEMENT_NODE\n          if (child.nodeType == 1) {\n            if (child.localName == \"tei-label\") {\n              let dt = doc.createElement(\"dt\");\n              dt.innerHTML = child.innerHTML;\n              dl.appendChild(dt);\n            }\n            if (child.localName == \"tei-item\") {\n              let dd = doc.createElement(\"dd\");\n              dd.innerHTML = child.innerHTML;\n              dl.appendChild(dd);\n            }\n          }\n        }\n        return dl;\n      }\n    ]],\n    \"note\": [\n      // Make endnotes\n      [\"[place=end]\", function(elt){\n        const doc = elt.ownerDocument;\n        if (!this.noteIndex){\n          this[\"noteIndex\"] = 1;\n        } else {\n          this.noteIndex++;\n        }\n        let id = \"_note_\" + this.noteIndex;\n        let link = doc.createElement(\"a\");\n        link.setAttribute(\"id\", \"src\" + id);\n        link.setAttribute(\"href\", \"#\" + id);\n        link.innerHTML = this.noteIndex;\n        let content = doc.createElement(\"sup\");\n        content.appendChild(link);\n        let notes = doc.querySelector(\"ol.notes\");\n        if (!notes) {\n          notes = doc.createElement(\"ol\");\n          notes.setAttribute(\"class\", \"notes\");\n          this.dom.appendChild(notes);\n        }\n        let note = doc.createElement(\"li\");\n        note.id = id;\n        note.innerHTML = elt.innerHTML;\n        notes.appendChild(note);\n        return content;\n      }],\n      [\"_\", [\"(\",\")\"]]\n    ],\n    // Hide the teiHeader by default\n    \"teiHeader\": function(e) {\n      this.hideContent(e, false);\n    },\n    // Make the title element the HTML title\n    \"title\": [\n      [\"tei-titlestmt>tei-title\", function(elt) {\n        const doc = elt.ownerDocument;\n        let title = doc.createElement(\"title\");\n        title.innerHTML = elt.innerText;\n        doc.querySelector(\"head\").appendChild(title);\n      }]\n    ],\n  },\n  \"teieg\": {\n    \"egXML\": function(elt) {\n      const doc = elt.ownerDocument;\n      let pre = doc.createElement(\"pre\");\n      let code = doc.createElement(\"code\");\n      pre.appendChild(code);\n      let content = this.serialize(elt, true).replace(/</g, \"&lt;\");\n      let ws = content.match(/^[\\t ]+/);\n      if (ws) {\n        content = content.replace(new RegExp(\"^\" + ws[0], \"mg\"), \"\");\n      }\n      code.innerHTML = content;\n      return pre;\n    }\n  }\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}